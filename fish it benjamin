--// SERVICES
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LP = Players.LocalPlayer

--// GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CharlesHubV2"
ScreenGui.Parent = game.CoreGui

--// MAIN FRAME
local Main = Instance.new("Frame")
Main.Size = UDim2.new(0, 520, 0, 360)
Main.Position = UDim2.new(0.5, -260, 0.5, -180)
Main.BackgroundColor3 = Color3.fromRGB(18,18,18)
Main.Active = true
Main.Draggable = true
Main.Parent = ScreenGui

Instance.new("UICorner", Main).CornerRadius = UDim.new(0,12)

--// TOP BAR
local Top = Instance.new("Frame", Main)
Top.Size = UDim2.new(1,0,0,40)
Top.BackgroundColor3 = Color3.fromRGB(25,25,25)

local Title = Instance.new("TextLabel", Top)
Title.Size = UDim2.new(1,0,1,0)
Title.Text = "Charles Hub | v1.0"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 15
Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundTransparency = 1

--// SIDEBAR
local Tabs = Instance.new("Frame", Main)
Tabs.Position = UDim2.new(0,0,0,40)
Tabs.Size = UDim2.new(0,130,1,-40)
Tabs.BackgroundColor3 = Color3.fromRGB(22,22,22)

local UIList = Instance.new("UIListLayout", Tabs)
UIList.Padding = UDim.new(0,6)
UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center

--// CONTENT
local Content = Instance.new("Frame", Main)
Content.Position = UDim2.new(0,130,0,40)
Content.Size = UDim2.new(1,-130,1,-40)
Content.BackgroundColor3 = Color3.fromRGB(16,16,16)

--// FUNCTION CREATE TAB
local Pages = {}

local function CreatePage(name)
    local Page = Instance.new("Frame", Content)
    Page.Size = UDim2.new(1,0,1,0)
    Page.Visible = false
    Page.BackgroundTransparency = 1

    Pages[name] = Page
    return Page
end

local function CreateTab(name)
    local Btn = Instance.new("TextButton", Tabs)
    Btn.Size = UDim2.new(0.9,0,0,32)
    Btn.Text = name
    Btn.Font = Enum.Font.Gotham
    Btn.TextSize = 13
    Btn.TextColor3 = Color3.new(1,1,1)
    Btn.BackgroundColor3 = Color3.fromRGB(30,30,30)
    Btn.AutoButtonColor = false
    Instance.new("UICorner", Btn)

    Btn.MouseButton1Click:Connect(function()
        for _,v in pairs(Pages) do v.Visible = false end
        Pages[name].Visible = true
    end)
end

--// CREATE PAGES
local MainPage = CreatePage("Main")
local FishingPage = CreatePage("Fishing")
local CombatPage = CreatePage("Combat")
local MiscPage = CreatePage("Misc")

--// CREATE TABS
CreateTab("Main")
CreateTab("Fishing")
CreateTab("Combat")
CreateTab("Misc")

Pages["Main"].Visible = true

--// SECTION TEMPLATE
local function CreateSection(parent, text)
    local Sec = Instance.new("Frame", parent)
    Sec.Size = UDim2.new(0.95,0,0,60)
    Sec.BackgroundColor3 = Color3.fromRGB(25,25,25)
    Sec.Position = UDim2.new(0.025,0,0,10)

    Instance.new("UICorner", Sec)

    local Label = Instance.new("TextLabel", Sec)
    Label.Text = text
    Label.Font = Enum.Font.GothamBold
    Label.TextSize = 14
    Label.TextColor3 = Color3.new(1,1,1)
    Label.BackgroundTransparency = 1
    Label.Position = UDim2.new(0,10,0,5)
    Label.Size = UDim2.new(1,-20,0,20)

    return Sec
end

--// TOGGLE
local function CreateToggle(parent, text)
    local Toggle = Instance.new("TextButton", parent)
    Toggle.Size = UDim2.new(0,120,0,28)
    Toggle.Position = UDim2.new(0,10,0,28)
    Toggle.Text = text.." : OFF"
    Toggle.Font = Enum.Font.Gotham
    Toggle.TextSize = 12
    Toggle.TextColor3 = Color3.new(1,1,1)
    Toggle.BackgroundColor3 = Color3.fromRGB(35,35,35)

    Instance.new("UICorner", Toggle)

    local state = false
    Toggle.MouseButton1Click:Connect(function()
        state = not state
        Toggle.Text = text.." : "..(state and "ON" or "OFF")
    end)
end

--// CONTENT EXAMPLE
local FishSec = CreateSection(FishingPage, "Fishing Features")
CreateToggle(FishSec, "Auto Fishing")

local CombatSec = CreateSection(CombatPage, "Combat Features")
CreateToggle(CombatSec, "Aimbot")

--// TOGGLE GUI
UIS.InputBegan:Connect(function(i,gp)
    if gp then return end
    if i.KeyCode == Enum.KeyCode.RightShift then
        Main.Visible = not Main.Visible
    end
end)
